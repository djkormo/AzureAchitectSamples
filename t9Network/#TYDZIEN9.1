#9.1 Dlatego teraz przed Tobą nie lada wyzwanie:
1.	Przeczytaj poniższe dokumenty. Jeśli miałeś szansę je poznać czytając linki pod pracami domowymi to masz już ten etap z głowy. Materiał pomoże Ci w planowaniu migracji.

https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/dmz/secure-vnet-dmz
https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/hybrid-networking/hub-spoke
https://docs.microsoft.com/en-us/azure/architecture/reference-architectures/hybrid-networking/shared-services

2.	Przypomnij sobie wiedzę o usługach, które omówiliśmy. Szczególnie te podstawowe elementy oraz architektury sieci będą dla Ciebie ważne. 

3.	Wypisz od 5 do 10 rekomendacji dla osób od sieci jak powinna być zaprojektowana sieć w Azure.
Zwróć uwagę na takie elementy jak:
Adresacja – jakie zakresy sieci wybrać i do czego
Podział na Vnet’y i Subnet’y – pomyśl o segmentacji pod względem typów środowisk, ich wielkości i przeznaczeniu
Zaplanuj wykorzystanie NSG oraz ASG lub też rozwiązań dedykowanych. Korzystaj śmiało z Service Tags i Service Endpoints ale ostrożnie
Pomyśl o usługach takich jak Azure Firewall czy DDoS


Każda aplikacja www wystawiona w Azure powinna być za usługa rozrzucającą ruch.




4.	Na końcu powiedz, jakie limity usług zweryfikowałeś by zbudować taką architekturę. To ważne, chmura też ma swoje ograniczenia.

Limity zgodnie z dokumentacją:

https://docs.microsoft.com/en-us/azure/azure-subscription-service-limits


Dobre praktyki zgodnie z

https://docs.microsoft.com/en-us/azure/security/azure-security-network-security-best-practices



1. Poszczególne środowiska (dev, beta, prod) powinny być być wydzielone do oddzielnych vnetów. Warto też wyizolować „grubsze klocki” (np. część kliencka sklepu, backoffice, systemy księgowości, systemy dla partnerów) z każdego środowiska do oddzielnych VNETów. Podział na subnety może obrazować mniejsze obszary w ramach danej dziedziny (np. jak również podział na poszczególne warstwy aplikacji (frontend, backend, db)
2. Vnety związane z różnymi środowiskami nie powinny być związane przez peering i móc ze sobą rozmawiać, wyjątkiem może być połączenie z vnetem zawierającym różnego rodzaju usługi współdzielone między środowiskami jak DNS czy AD.
3. Adresacja subnetów nie powinna być za mała – z każdego subnetu 5 adresów rezerwuje Azure, z drugiej strony nie ma też sensu tworzyć ogromnych subnetów bez potrzeby
4. Jeżeli nie ma udostępnienia zasobów na zewnątrz, NSG powinno blokować cały ruch przychodzący do VNETu
5. Ruch przychodzący
6. Unikajmy zasobów (jak VM czy webapp) wystawionych na zewnątrz bezpośrednio przez publiczny adres IP, lepiej wykorzystać warstwę pośrednią jak Load Balancer, Application Gateway.
7. Warto zbudować DMZ z usługą Azure Frewall lub wybranym NVA aby ruch przychodzący był dodatkowo filtrowany.
8. Połączenia do usług szczególnie krytycznych dla bezpieczeństwa jak np. baza danych czy usługa do płatności warto ograniczyć korzystając z ASG
9. Testujmy za pomocą IP Flow Verify, czy dobrze zrealizowaliśmy nasze założenia
#9.2 A jeśli planowanie to nie twój żywioł to zrób proszę prostą architekturę i uruchom ją w Azure (jak masz zapał, to wykorzystaj do tego skrypty ARM).
Co ma powstać:
1)	Sieć z podziałem na 3 subnety
2)	W subnecie pierwszym niech stanie Application Gateway, w drugim dwa serwery z dowolnym serwerem aplikacyjnym w Availability Set, w 3 dowolna baza danych
3)	Zrób odpowiednią segmentacje ruchu pomiędzy sieciami za pomocą NSG oraz ASG, tak by tylko ruch, który powinien wchodził i wychodził z danych segmenetów sieci
4)	Przed całym rozwiązaniem postaw Azure Traffic Managera i skonfiguruj go w dowolnej opcji i sprawdź jak działa
5)	Na koniec, ustaw logowanie wszystkich NSG do Azure Traffic Analytics i zobacz po 24h jaki ruch tam został zarejestrowany
6)	Na koniec, sprawdź czy Twoje NSG i ASG poprawnie działają za pomocą narzędzie Network Watcher i dostępnych tam opcji. 
Liczę na dobre zrzuty ekranu i opis rozwiązania.  



Propozycja

Wordpress uruchomiony z kontenera z  baza Mysql (Paas). 

VNET-WP-09

SUBNET-FP Application Gateway z publicznym IP



SUBNET-WK WebApp for Containers (linux version)

Tu zostanie uruchomiony wordpress z obrazu


https://github.com/bartr/azurewordpress
Obraz z dockerHuba
bartr/apache-wordpress

Wymaga konfiguracji czterech zmiennych

Konfiguracja  zmiennych środowiskowych
fragment wp-config.php :
define('DB_NAME', getenv('WORDPRESS_DB_NAME')); 
define('DB_USER', getenv('WORDPRESS_DB_USER')); 
define('DB_PASSWORD', getenv('WORDPRESS_DB_PASSWORD')); 
define('DB_HOST', getenv('WORDPRESS_DB_HOST'));



SUBNET-DB

Azure Database for MySQL




Literatura:

https://kvaes.wordpress.com/2018/06/08/taking-a-look-at-azure-service-endpoints/








